{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet searchData = '';\nlet page = 1;\nconst perPage = 20;\nlet totalPages = 0;\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    searchData = event.currentTarget.elements.query.value.trim();\n    page = 1;\n\n    if (searchData === '') {\n        displayToast('Please enter a search query', 'error');\n        return;\n    }\n\n    try {\n        const data = await fetchImages(searchData, page, perPage);\n        totalPages = Math.ceil(data.totalHits / perPage);\n\n        if (data.hits.length === 0) {\n            displayToast('No images found. Please try a different search query.', 'error');\n        } else {\n            displayImages(data.hits, gallery);\n            displayToast(`Hooray! We found ${data.totalHits} images.`, 'success');\n            loadMoreBtn.style.display = 'block';\n        }\n    } catch (error) {\n        displayToast('Failed to fetch images. Please try again later.', 'error');\n    }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n    if (page > totalPages) {\n        displayToast('No more images to load.', 'error');\n        return;\n    }\n\n    page += 1;\n\n    try {\n        const data = await fetchImages(searchData, page, perPage);\n        displayImages(data.hits, gallery);\n\n        if (page > totalPages) {\n            loadMoreBtn.style.display = 'none';\n            displayToast('No more images to load.', 'error');\n        }\n    } catch (error) {\n        displayToast('Failed to load more images. Please try again later.', 'error');\n    }\n});\n"],"names":["searchForm","gallery","loadMoreBtn","searchData","page","perPage","totalPages","event","data"],"mappings":"ssBAAA,MAAMA,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,YAAY,EAEvD,IAAIC,EAAa,GACbC,EAAO,EACX,MAAMC,EAAU,GAChB,IAAIC,EAAa,EAEjBN,EAAW,iBAAiB,SAAU,MAAOO,GAAU,CAMnD,GALAA,EAAM,eAAc,EACpBN,EAAQ,UAAY,GACpBE,EAAaI,EAAM,cAAc,SAAS,MAAM,MAAM,OACtDH,EAAO,EAEHD,IAAe,GAAI,CACnB,aAAa,8BAA+B,OAAO,EACnD,MACH,CAED,GAAI,CACA,MAAMK,EAAO,MAAM,YAAYL,EAAYC,EAAMC,CAAO,EACxDC,EAAa,KAAK,KAAKE,EAAK,UAAYH,CAAO,EAE3CG,EAAK,KAAK,SAAW,EACrB,aAAa,wDAAyD,OAAO,GAE7E,cAAcA,EAAK,KAAMP,CAAO,EAChC,aAAa,oBAAoBO,EAAK,SAAS,WAAY,SAAS,EACpEN,EAAY,MAAM,QAAU,QAEnC,MAAe,CACZ,aAAa,kDAAmD,OAAO,CAC1E,CACL,CAAC,EAEDA,EAAY,iBAAiB,QAAS,SAAY,CAC9C,GAAIE,EAAOE,EAAY,CACnB,aAAa,0BAA2B,OAAO,EAC/C,MACH,CAEDF,GAAQ,EAER,GAAI,CACA,MAAMI,EAAO,MAAM,YAAYL,EAAYC,EAAMC,CAAO,EACxD,cAAcG,EAAK,KAAMP,CAAO,EAE5BG,EAAOE,IACPJ,EAAY,MAAM,QAAU,OAC5B,aAAa,0BAA2B,OAAO,EAEtD,MAAe,CACZ,aAAa,sDAAuD,OAAO,CAC9E,CACL,CAAC"}